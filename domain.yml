version: '3.0'

config:
  store_entities_as_slots: true 
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
  - greet:
      use_entities: []
  - goodbye:
      use_entities: [] 
  - order_something:
      use entities:
        - food
  - choose_time:
      use entities:
        - time
  - edit_order_with_id:
      use entities:
        - order_id
  - edit_order_time:
      use entities:
        - time
  - edit_order_recipe:
      use entities:
        - food
  - edit_order_drink:
      use entities:
        - drink
  - delete_order_with_id:
      use entities:
        - order_id
  - show_order_id:
      use entities:
        - order_id
  - intolerant:
      use entities:
        - intolerance
  - type_diet:
      use entities:
        - diets
  - type_plate:
      use entities:
        - plates
  - region_food:
      use entities:
        - regions
  - preference_ingredients:
      use entities:
        - ingredients
  - alternatives_of_interactions:
      use_entities: []
  - caloric_intake:
      use entities:
        - food
  - suggest_drink:
      use entities:
        - drink
  - add_drink_to_order:
      use entities:
        - drink
  # suggerimento nuovo piatto
  - suggest_new_plate: 
      use_entities: []
  - title_receipt:
      use entities:
        - receipt
  - type_plate_receipt: 
      use entities:
        - plates_suggest
  - show_menu:
      use_entities: []

actions:
- action_save_order
- action_show_order
- action_edit_order_time
- action_edit_order_recipe
- action_edit_order_drink
- action_delete_order
- action_type_diet
- action_type_plate_food
- action_region_food
- action_intolerant
- action_preference_ingredients
- action_alternatives_of_interactions
- action_show_order_id
- action_caloric_intake 
- action_suggest_drink
- action_suggest_new_plate
- action_show_menu
- action_suggest_new_receipt
- utter_greet
- utter_goodbye
- utter_order_info
- utter_order
- utter_time
- utter_order_id
- utter_intolerant
- utter_type_diet
- utter_new_order
- utter_show_order
- utter_alternatives_of_interactions
# drink
- utter_drink
# suggerimento nuovo piatto
- utter_new_plate
- utter_new_type_plate
# fallback
- nlu_fallback



entities:
- food
- diets
- plates
- regions
- ingredients
- time 
- order_id 
- number 
- intolerance
- drink 
- receipt
- plates_suggest



slots:
  food:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: food
  time:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: time
  order_id:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: order_id
  number:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: number
  diets:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: diets
  intolerance:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: intolerance
  regions:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: regions
  plates:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: plates
  ingredients:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: ingredients
  drink: 
    type: text
    influence_conversation: true 
    mappings: 
    - type: from_entity
      entity: drink
  receipt: 
    type: text 
    influence_conversation: true
    mappings: 
    - type: from_entity
      entity: receipt
  plates_suggest:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: plates_suggest
      


responses:
  utter_greet:
  - text: Hey! Welcome to the B.I.G. Pizza & Restaurant!
  utter_goodbye:
  - text: Bye
  utter_order_info:
  - text: Of course! Let me know what would you like to order.
  utter_order:
  - text: OK.
  utter_time:
  - text: Which time would you prefer?
  utter_order_id:
  - text: Of course! Let me know what is your order ID.
  utter_intolerant:
  - text: I will select a plate adapt for you
  utter_type_diet:
  - text: I will select a plate adapt for you
  utter_show_order:
  - text: Taking care of your request. Here is what you booked
  utter_alternatives_of_interactions:
  - text: |
      You're welcome. Here is the list of things you can do by us:

       - Visualize the Menu (FORM : Show me the entire menu)
       - Order a dish (pasta, pizza, second meal, side dish, dessert), (FORM : I would like to order <<dish name>>)
       - Show order <<ID>> (FORM : show order with ID <<AA....>>)
       - Edit an Order (FORM : edit order with ID <<AA....>>)
       - Delete an Order (FORM : delete order with ID <<AA....>>)
       - Visualize dishes for a category (vegetarian, vegan, omnivorous), (FORM : i'm <<vegan>>)
       - Visualize dishes acceptable from intolerance (gluten, lactoise, nuts), (FORM : i'm intolerant to <<lactoise>>)
       - Visualize dishes from specific Region (emilia romagna, toscana, marche, ...), (FORM : I want to try something from <<emilia romagna>>)
       - Asking a suggestion to you for a plate with choosen ingredient, (FORM : I'd like to eat something with << Specific Ingredient>>)
       - Ask a suggestion of a drink for the dish you would like to take (BEFORE ORDERING A DISH !), (FORM : Suggest me a drink for <<dish name>>)
       - Knowing the Caloric Intake of a SPECIFIED dish (BEFORE ORDERING A DISH !), (FORM : I would like to know the caloric intake for <<dish name>>)
       - Suggest a new dish for the menu (to insert in the future by the owners)
       - Quit the application using command <</stop>>
  utter_new_order: 
  - text: choose and insert the new order FORM where (FORM = edit order time <<09:00>> , edit order recipe <<Tuna>> , edit order drink <<Cola>>)
  utter_drink:
  - text: let me know what do you want to drink (formula - add to my order <<water>>)
  utter_new_plate: 
  - text: let me know what do you want suggest, Insert title of receipt 
  utter_new_type_plate: 
  - text: Let me know what kind of plates is "Main Dish, Dessert, Second Dish, Side Dish"
  utter_out_of_scope:
  - text: Sorry, I didn't get what you said. Please rephrase what you said.
  
